<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="robots" content="index,follow,archive">
  <link rel="stylesheet" type="text/css" href="style.css"/>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
  <link href='https://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css'/>
  <link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'/>
  <title>Xolotl Sequencer</title>
</head>
<body>
<div id="page_wrapper">
  <!-- START HEADER -->
  <header>
    <img class="banner_image" src="images/xolotl_logo.png" alt="Xolotl Pattern Generator"/>
    <h1 class="banner_text">Xolotl Pattern Generator</h1>
  </header>
  <!-- END HEADER -->
  <!-- START NAVIGATION -->
  <p class="static_navigation">
      <a class="navigation" href="cobalt.html">Previous</a>
      <a class="navigation" href="#.html">Next</a>
      <a class="navigation" href="xolotl.html">Home</a>
  </p>

<ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#clock">Clock and Tempo</a></li>
    <li><a href="#seq">Sequences A and B</a></li>
    <li><a href="#channels">MIDI channels</a></li>
    <li><a href="#options">Enable</a></li>
    <li><a href="#options">Key Reset, Gate and Track</a></li>
    <li><a href="#options">Transpose</a></li>
    <li><a href="#options">Program Changes</a></li>
    <li><a href="#rhythm">Rhythm Pattern</a></li>
    <li><a href="#hold">Hold Pattern</a></li>
    <li><a href="#pitch">Pitch Pattern</a></li>
    <li><a href="#velocity">Velocity Pattern</a></li>
    <li><a href="#velocity">Controller Patterns</a></li>
    <li><a href="#shiftregister">Shift Register</a></li>
    <li><a href="#toolbar">Toolbar</a></li>
    <li><a href="#bank">Program Bank</a></li>
</ul>  <!-- END NAVIGATION -->
  <!-- START SECTION Overview -->
  <a id="overview"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">Overview</h2>
    </div>
    <div class="section_image1">
      <img class="image1" src="images/xolotl_frame.png" alt="Xolotl Frame"/>
    </div><br>
<p>Xolotl (pronounced "szho-low-till") is a <em>recombinant</em> pattern generator where<br>
rhythm, pitch, velocity, duration and controller patterns are specified separately.<br>
If these patterns have the same length they combine in the same order on each iteration.<br>
If they have differing lengths they recombine into different combinations on each iteration.<br>
For example if the rhythm pattern is "Q E E" (A quarter note followed by two eighth notes)<br>
and the pitch pattern is a four note C major arpeggio "C0 E0 G0 C1" the interaction between<br>
rhythm and pitch is:<br>
<pre>
    Q E E     C0 E0 G0  iteration 0
    Q E E     C1 C0 E0  iteration 1
    Q E E     G0 C1 C0  iteration 2
    Q E E     E0 G0 C1  iteration 3
</pre>

There are two independent sequences (A and B) with separate MIDI channels, rhythm, hold, <br>
pitch, velocity and controller patterns. Each sequence may transmit MIDI program changes.<br>

The pitch and velocity patterns have three ordering modes: sequential, random or via the output<br>
of a linear feedback shift-register.</p>


Xolotl configurations are saved in a bank of 128 programs which may be recalled by external<br>
MIDI program changes. Xolotl programs may also be chained together so that one program calls another<br>
program after a pre determined number of iterations.</p>  </div>
  </section>
  <!-- END SECTION Overview -->
  <!-- START SECTION Clocks and Tempo -->
  <a id="clock"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">Clocks and Tempo</h2>
    </div>
    <div class="section_image2">
      <div class="section_image2_left">
        <p>
        The two sequences A and B share a common clock.<br> 
        By default this is a global internal clock.  Provisions for <br>
        an external MIDI clock are provided but have not been<br>
        tested. One caveat, when using an external clock, you <br>
        must tell Xolotl what the tempo is. The clock resolution is <br>
        24 ticks per quarter note.</p>
        <p>Tempo may be set between 20 and 300 BPM</p>
      </div>
      <div class="section_image2_right">
        <img src="images/xolotl_clock.png" alt="Xolotl Clock and Tempo" />
      </div>
    </div><p></p>
  </div>
  </section>
  <!-- END SECTION Clocks and Tempo -->
  <!-- START SECTION Sequences A and B -->
  <a id="seq"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">Sequences A and B</h2>
    </div>
    <div class="section_image2">
      <div class="section_image2_left">
        <p>
        Each instance of Xolotl contains two independent sequences:<br>
        A and B. With exception of the clock source, tempo and <br>
        current program, these two sequences are completely independent.
        </p>
        
        <p>
        The parameters for A and B are nearly identical. <br>
        The only exception is that sequence A has parameters <br>
        related to jumping to another Xolotl program after a <br>
        predetermined number of iterations.</p>
      </div>
      <div class="section_image2_right">
        <img src="images/xolotl_03.png" alt="Sequence A special parameters" />
      </div>
    </div><p></p>
  </div>
  </section>
  <!-- END SECTION Sequences A and B -->
  <!-- START SECTION MIDI Channels -->
  <a id="channels"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">MIDI Channels</h2>
    </div>
    <div class="section_image2">
      <div class="section_image2_left">
        <p>Each sequence has independent MIDI input and output channels.</p>
        
        <p>MIDI input is used for three purposes:<p>
        <ul>
           <li>Program Changes<br>
               External program changes may be used to select a Xolotl program.
               <p class="footnote">A and B may have different input channels. Program
               changes on either input channel will change the program for both A and
               B.</li>
           <li>Transposition<br>
               MIDI key events may be used to transpose the sequencer.<p></p></li>
               
           <li>Gating sequencer output<br>
               MIDI key events may be set to turn sequencer output on and off.</li>
        </ul>
        
        <p>MIDI output channel sets the channel on which the sequence transmits
        events. </p>
        <p class="footnote">The input and output channels should not be the
        same as this may set up a feedback situation. A small warning message
        appears whenever the input and output channels are identical.<br><br></p>
      </div>
      <div class="section_image2_right">
        <img src="images/xolotl_channel.png" alt="Xolotl Channel Selection" />
      </div>
    </div><p></p>
  </div>
  </section>
  <!-- END SECTION MIDI Channels -->
  <!-- START SECTION Options -->
  <a id="options"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">Options</h2>
    </div>
    <div class="section_image2">
      <div class="section_image2_left">
        <ul>
          <li>Enable - enable/disable sequence<p></p></li>
          <li>Key Reset<br>
              If selected every time an initial key is played from an external
              source a MIDI reset event is generated. This has the effect of
              starting the sequence over.<br> 
              A reset is only generated on an initial key press.<p><p></li>
          <li>Key Gate<br>
              If selected the sequencer will only produce events if a key is
              being held down on the input channel.<p></p></li>
          <li>Key Track<br>
              If selected the sequencer pitch pattern is transposed by incoming
              key events. If key track is not selected a reasonable transpose value
              should be set.<p></p></li>
          <li>Transpose<br>
              Transposition amount in MIDI key numbers. A transpose value of 0
              corresponds with middle C<br>(key-number 60).<p></p></li>
          <li>Program<br>
              MIDI program number to transmit when sequence starts. A value of -1
              turns this feature off.
              <p class="footnote">This value should not be confused with the Xolotl
              program number. Briefly the Xolotl program number sets the
              current configuration of Xolotl. This value causes a program
              change event to be transmitted to select a synth patch.
              <br><br></p></li>
        </ul>
      </div>
      <div class="section_image2_right">
        <img src="images/xolotl_options.png" alt="Xolotl Seq Options" />
      </div>
    </div><p></p>
  </div>
  </section>
  <!-- END SECTION Options -->
  <!-- START SECTION Rhythm -->
  <a id="rhythm"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">Rhythm</h2>
    </div>
    <div class="section_image2">
      <div class="section_image2_left">
        <p>
        The rhythm pattern defines the rhythmic motif and is the<br>
        master sequence pattern. The rhythm editor shares common<br>
        features with the hold, pitch, velocity, and controller editor.<br>
        
        <p>The general rules are:
        <ul>
            <li>Values are case insensitive but converted to upper case.</li>
            <li>Tokens are separated by white space.</li>
            <li>Line feeds are not preserved.</li>
            <li>For rhythm and pitch, values may be numeric or symbolic.</li>
            <li>The editors continuously monitor for valid content.<br>
                If invalid content is detected the editor background<br>
                switches to an alarming color and the status line<br>
                displays the offending text.</li> 
            <li>Once valid content has been detected the Xolotl<br>
                sequencer is automatically updated.</li>
        </ul>
        </p>
      </div>
      <div class="section_image2_right">
        <img src="images/xolotl_rhythm.png" alt="Xolotl Rhythm Editor" />
      </div>
    </div><p></p>
  </div>
  </section>
  <!-- END SECTION Rhythm -->
  <p></p><a id="#"></a>  <section>
  <div class="section">
    <div class="section_image2">
      <div class="section_image2_left">
        <p>
        Rhythm values are based on a clock resolution of 24 beats <br>
        per quarter note. A quarter note followed by two eighth notes <br>
        is specified either numerically by '24 12 12' or symbolically <br> 
        by "Q E E".</p> 
        <p>The following rhythmic values are recognized: </p>
        <ul>
           <li>W &nbsp;= &nbsp;96  Whole Note</li>
           <li>H &nbsp;= &nbsp;48  Half Note</li>
           <li>Q &nbsp;= &nbsp;24  Quarter Note</li>
           <li>E &nbsp;= &nbsp;12  Eighth Note </li>
           <li>S &nbsp;= &nbsp;&nbsp;6  Sixteenth Note</li>
           <li>T &nbsp;= &nbsp;&nbsp;3  Thirty-second Note</li>
           <li>W. = 144  Dotted Whole Note</li> 
           <li>H. = &nbsp;72  Dotted Half Note</li>
           <li>Q. = &nbsp;36  Dotted Quarter Note</li>
           <li>E. = &nbsp;18  Dotted Eighth Note</li>
           <li>S. = &nbsp;&nbsp;9  Dotted Sixteenth Note</li>
           <li>WT =  &nbsp;64  Whole Note Triplet</li>
           <li>HT =  &nbsp;32  Half Note Triplet</li>
           <li>QT =  &nbsp;16  Quarter Note Triplet</li>
           <li>ET =  &nbsp;&nbsp;8  Eighth Note Triplet</li>
           <li>ST =  &nbsp;&nbsp;4  Sixteenth Note Triplet</li>
           <li>TT =  &nbsp;&nbsp;2  Thirty-second Note Triplet</li>
        </ul>
        </p>
      </div>
      <div class="section_image2_right">
        <img src="images/xolotl_pattern1.png" alt="Rhythm Pattern" />
      </div>
    </div><p></p>
  </div>
  </section>
  <p></p><a id="#"></a>  <section>
  <div class="section">
<p>The two controls immediately below Sequence A rhythm pattern set
iteration count and jump location.<br>
If the jump location is greater then -1 
then after the indicated repetitions of the rhythm pattern Xolotl<br>
jumps to the indicated program.</p>  </div>
  </section>
  <!-- START SECTION Hold Pattern -->
  <a id="hold"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">Hold Pattern</h2>
    </div>
    <div class="section_image2">
      <div class="section_image2_left">
        <p>The hold pattern determines how each note is articulated. A hold
        value of 1.00 gives a note it's entire duration. Values greater then 1.0
        cause notes to sustain over succeeding notes. Hold values less then 1.0
        produce a staccato effect.</p>
        
        <p>In the example the single 'Q' rhythm pattern produces an endless stream
        of quarter notes. The hold pattern of '1.00 0.5' causes alternate notes to
        be shortened by 50%</p>
      </div>
      <div class="section_image2_right">
        <img src="images/xolotl_hold.png" alt="Hold Pattern Editor" />
      </div>
    </div><p></p>
  </div>
  </section>
  <!-- END SECTION Hold Pattern -->
  <!-- START SECTION Pitch patterns -->
  <a id="pitch"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">Pitch patterns</h2>
    </div>
    <div class="section_image2">
      <div class="section_image2_left">
        <p>Pitches are specified as MIDI key number offsets and may be 
        expressed numerically or symbolically. The reference pitch is
        derived form the transpose value and/or external MIDI key events with 
        the default being 60 (middle C). </p>
        
        <p>Pitch values have a range between &plusmn;48. Symbolic pitch names have
        the form 'PO' or 'PMO' where:<br>
        <ul>
        <li>P is a 'white key', any one of A B C D E F or G</li>
        <li>O is octave, any one of -4 -3 -2 -1 0 1 2 3 or 4
        <li>M is optional modifier
           <ul>
           <li>F for flat</li>
           <li>S for sharp</li>
           </ul>
        <li></li>
        <li>Examples
           <ul>
             <li>'GS2'  &nbsp;- G-sharp, octave 2</li>
             <li>'AF-1' - A-flat, octave -1</li>
             <li>'D3'   &nbsp;&nbsp;- D-natural, octave 3</li>
           </ul>
        </li>
        </ul>
        </p>
        
        <p>Rest have a value of -1000 and are indicated by 'R'</p>
        
        <p>Chords are produced by enclosing notes in square brackets.<br>
        The pattern 'C0 E0 G0 [A0 C1 E1]' produces a 3 note c-major arpeggio
        followed by an a-minor chord. The controls to the left of the pitch 
        editor allow chords to be strummed. The delay time is in milliseconds and
        the four radio buttons select how notes are selected. The strum modes
        are:</p>
        
        <ul>
        <li> --&gt;&gt;  - forward </li>
        <li> &lt;&lt;--  - reverse</li>
        <li> &lt;&lt;--&gt;&gt; - alternate forward and reverse</li>
        <li> RND - random</li>
        </ul>
        
        <p>The illustration shows a 3 element rhythm pattern 'Q E E' and a four
        element pitch pattern 'C0 E0 G0 C1', these combine to produce a 12-note
        pattern.</p>
        
        <p>There are three different methods for selecting pitches</p>
        <ul>
        <li>SEQ - sequentially in the order specified</li>
        <li>RND - randomly</li>
        <li>SR &nbsp;- <a href="#shiftregister">shift register</a></li>
        </ul>
        
        <p class="footnote">There is a bug which causes repeated notes to not be articulated correctly. 
        As a fix Xolotl attempts to shift repeated notes by an octave. This is not 100% effective as 
        notes within a chord are not detected. Another situation which is not
        detected is when both sequence A and B are transmitting on the same channel
        and produce the same note.</p>
        <p></p>
      </div>
      <div class="section_image2_right">
        <img src="images/xolotl_pitch.png" alt="Xolotl Pitch Editor" />
      </div>
    </div><p></p>
  </div>
  </section>
  <!-- END SECTION Pitch patterns -->
  <!-- START SECTION Velocity and Controllers -->
  <a id="velocity"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">Velocity and Controllers</h2>
    </div>
<p>The velocity and controller patterns are similar to the hold pattern<br>
except are specified as integers between 0 and 127 inclusive. The velocity<br>
pattern has the same selection options as the pitch pattern. The two<br>
controls below the controller pattern editors select the MIDI controller<br>
number. A value of -1 turns the controller off.</p>  </div>
  </section>
  <!-- END SECTION Velocity and Controllers -->
  <!-- START SECTION Shift Register -->
  <a id="shiftregister"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">Shift Register</h2>
    </div>
<p>A <a href="https://en.wikipedia.org/wiki/Shift_register">Shift
Register</a> is a device composed of a number of memory cells connected in
series.<br>
Each cell holds either a 0 or 1 and upon reception of a clock pulse the cell contents<br> 
are shifted into the cell to the right. The
illustration below shows a simple 4 bit shift register.<br>
Periodically a '1' is inserted into the left most cell which then propagates through the
<br>remaining cells. </p>    <div class="section_image1">
      <img class="image1" src="images/xolotl_sr1.gif" alt="Basic Shift Register"/>
    </div><br>
<p>Shift registers have both serial and parallel aspects. Bits are shifted serially through the<br> 
array and may be picked up or 'tapped' at any point along the register. Alternately the cells <br>
may be read in parallel to form a single value. An n-bit register may have values up to 2<sup>(n-1)</sup>.<br>
The number on the right shows the parallel value of the register.</p>

<p>The initial register value is called the 'seed' and in the following illustrations the seed is 1<br> 
for the first cell and 0 for all other cells. If the final cell is tapped and fed back to the initial<br> 
cell the register is made to endlessly cycle through a series of values based on the initial seed.</p>    <div class="section_image1">
      <img class="image1" src="images/xolotl_sr2.gif" alt="Shift register with simple feedback"/>
    </div><br>
<p>Things get interesting when more then one feedback tap is used. Many different schemes may <br>
be employed to derive the feedback signal. The rule used by Xolotl is to first count the number <br>
of feedback taps which are 1. If this sum is odd the feedback value is 1, if the sum is even the <br>
feedback is 0. The next animation shows a shift register with feedback from taps 3 and 4.
</p>    <div class="section_image1">
      <img class="image1" src="images/xolotl_sr3.gif" alt="Shift Register with 2 feedback taps"/>
    </div><br>
<p>This combination produces a sequence of 15 values, or has a <em>period</em> of 15.</p>
<pre>
    [1000]  1   
    [0100]  2    
    [0010]  4    
    [1001]  9   
    [1100]  3  
    [0110]  6  
    [1011] 13    
    [0101] 10   
    [1010]  5   
    [1101] 11    
    [1110]  7    
    [1111] 15    
    [0111] 14   
    [0011] 12   
    [0001]  8
</pre>

<p>In general an n-length shift register with linear feedback has a maximum period of 2<sup>n</sup>. Most tap <br>
combinations do not produce a maximum period. In order to produce the maximum period it is <br>
necessary, but not sufficient, that the tap positions are relatively prime. In a music context however <br>
shorter periods are often more desirable then longer ones, which tend to sound random.</p>

<p>
The Xolotl shift-register has a maximum length of 12 bits and has three sets of controls.</p>
<ul>
 <li>12 tap buttons</li>
 <li>12 initial seed buttons</li>
 <li>12 bit mask buttons</li>
</ul>
    <div class="section_image1">
      <img class="image1" src="images/xolotl_shift_register.png" alt="Xolotl Shift Register"/>
    </div><br>
<p>
The tap and seed buttons do pretty much what you expect. The mask buttons selects which stages <br>
contribute to the register's value. They may be used to shorten the register by selecting all <br>
buttons up to the desired length and unselecting all buttons above the length.</p>

<p>
The inject button forms part of the feedback signal. If selected inject adds 1 to the feedback count. <br>
This not only alters the generated pattern but it also ensures the register never freezes by entering <br>
an all-zero state.</p>

<p>The Pattern? button is informational only. Clicking it causes the register to cycle through a complete <br>
period with output sent to the terminal. Pattern? does change the registers state so it may be desirable to click <br>
Reset after clicking Pattern?.


<p>
The output of the shift-register is not used directly as it will typically have a greater range then the number of<br> 
elements to be selected.  Instead what happens is the register values is taken modulo to the length of the pattern it<br>
is being applied to.</p>
  </div>
  </section>
  <!-- END SECTION Shift Register -->
  <!-- START SECTION Toolbar -->
  <a id="toolbar"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">Toolbar</h2>
    </div>
    <div class="section_image1">
      <img class="image1" src="images/xolotl_toolbar.png" alt="Xolotl Toolbar"/>
    </div><br>
  </div>
  </section>
  <!-- END SECTION Toolbar -->
  <!-- START SECTION Program Bank -->
  <a id="bank"></a>
  <br><br>
  <section>
  <div class="section">
    <hr class="section"/>
    <a class="top" href="#top">Top</a>
    <div class="section_head">
      <h2 class="section_head">Program Bank</h2>
    </div>
    <div class="section_image2">
      <div class="section_image2_left">
        <p>The Xolotl program bank stores up to 128 sequencer<br>
        configurations and may be saved to an external file.<br>
        The three components below the program list are for storing<br>
        the current program into the bank. The spinner selects<br>
        the destination slot number between 0 and 127.</p>
      </div>
      <div class="section_image2_right">
        <img src="images/xolotl_bank.png" alt="Xolotl Program Bank" />
      </div>
    </div><p></p>
  </div>
  </section>
  <!-- END SECTION Program Bank -->
</div> <!-- END page wrapper -->
</body>
</html>
